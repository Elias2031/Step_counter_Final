{"version":3,"sources":["detach/IosUtils.js"],"names":["async","certPath","certPassword","teamID","certData","await","fs","readFile","fingerprint","genCertFingerprint","identities","findIdentitiesByTeamID","isValid","indexOf","Error","ensureCertificateValid","output","spawnAsyncThrowError","stdio","join","plistPath","data","toWrite","createExportOptionsPlist","writeFile","writeExportOptionsPlistFile","ipaPath","workspace","archivePath","codeSignIdentity","exportOptionsPlistPath","plistData","keychainPath","exportMethod","credentials","client","path","Dir","env","process","CI","runFastlane","basename","dirname","buildIPA","generatedEntitlementsPath","decodedProvisioningProfileEntitlements","Entitlements","entitlementsPattern","entitlementsPaths","glob","length","archiveEntitlementsPath","archiveEntitlementsRaw","archiveEntitlementsData","_","attempt","plist","parse","String","isError","message","entitlements","entitlementTransferRules","forEach","rule","generatedEntitlements","pickBy","val","key","includes","blacklistedEntitlementKeys","generatedEntitlementsPlistData","build","mode","plistDataReformatted","createEntitlementsFile","entitlementsPath","provisioningProfilePath","sourceIpaPath","destIpaPath","resignIPA","password","fastlaneArgs","fastlaneEnvVars","FASTLANE_SKIP_UPDATE_CHECK","FASTLANE_DISABLE_COLORS","FASTLANE_TEAM_ID","FASTLANE_PASSWORD","p12Buffer","Buffer","isBuffer","toString","certBagType","forge","pki","oids","certBag","p12Der","util","decode64","p12Asn1","asn1","fromDer","p12","pkcs12","pkcs12FromAsn1","get","getBags","bagType","certAsn1","certificateToAsn1","certDer","toDer","getBytes","md","sha1","create","update","digest","toHex","toUpperCase","bundleIdentifier","provisioningProfileUUID","resolveExportMethod","ProvisionedDevices","ProvisionsAllDevices"],"mappings":"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","file":"../../detach/IosUtils.js","sourcesContent":["import forge from 'node-forge';\nimport _ from 'lodash';\nimport fs from 'fs-extra';\nimport path from 'path';\nimport glob from 'glob-promise';\nimport plist from 'plist';\n\nimport { spawnAsyncThrowError } from './ExponentTools';\n\nexport async function ensureCertificateValid({ certPath, certPassword, teamID }) {\n  const certData = await fs.readFile(certPath);\n  const fingerprint = genCertFingerprint(certData, certPassword);\n  const identities = await findIdentitiesByTeamID(teamID);\n  const isValid = identities.indexOf(fingerprint) !== -1;\n  if (!isValid) {\n    throw new Error(`codesign ident not present in find-identity: ${fingerprint}\\n${identities}`);\n  }\n  return fingerprint;\n}\n\nfunction genCertFingerprint(p12Buffer, password) {\n  if (Buffer.isBuffer(p12Buffer)) {\n    p12Buffer = p12Buffer.toString('base64');\n  } else if (typeof p12Buffer !== 'string') {\n    throw new Error('genCertFingerprint only takes strings and buffers.');\n  }\n\n  const certBagType = forge.pki.oids.certBag;\n\n  const p12Der = forge.util.decode64(p12Buffer);\n  const p12Asn1 = forge.asn1.fromDer(p12Der);\n  const p12 = forge.pkcs12.pkcs12FromAsn1(p12Asn1, password || '');\n  const certData = _.get(p12.getBags({ bagType: certBagType }), [certBagType, 0, 'cert']);\n  if (!certData) {\n    throw new Error(\"genCertFingerprint: couldn't find cert bag\");\n  }\n  const certAsn1 = forge.pki.certificateToAsn1(certData);\n  const certDer = forge.asn1.toDer(certAsn1).getBytes();\n  return forge.md.sha1\n    .create()\n    .update(certDer)\n    .digest()\n    .toHex()\n    .toUpperCase();\n}\n\nasync function findIdentitiesByTeamID(teamID) {\n  const { output } = await spawnAsyncThrowError(\n    'security',\n    ['find-identity', '-v', '-s', `(${teamID})`],\n    {\n      stdio: 'pipe',\n    }\n  );\n  return output.join('');\n}\n\nexport async function writeExportOptionsPlistFile(plistPath, data) {\n  const toWrite = createExportOptionsPlist(data);\n  await fs.writeFile(plistPath, toWrite);\n}\n\nconst createExportOptionsPlist = ({\n  bundleIdentifier,\n  provisioningProfileUUID,\n  exportMethod,\n  teamID,\n}) => `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n  <dict>\n    <key>method</key>\n    <string>${exportMethod}</string>\n    <key>teamID</key>\n    <string>${teamID}</string>\n    <key>provisioningProfiles</key>\n    <dict>\n      <key>${bundleIdentifier}</key>\n      <string>${provisioningProfileUUID}</string>\n    </dict>\n  </dict>\n</plist>`;\n\nexport async function buildIPA(\n  {\n    ipaPath,\n    workspace,\n    archivePath,\n    codeSignIdentity,\n    exportOptionsPlistPath,\n    plistData,\n    keychainPath,\n    exportMethod,\n  },\n  credentials,\n  client = false\n) {\n  if (client) {\n    await spawnAsyncThrowError(\n      'xcodebuild',\n      [\n        '-exportArchive',\n        '-archivePath',\n        archivePath,\n        '-exportOptionsPlist',\n        exportOptionsPlistPath,\n        '-exportPath',\n        path.Dir(ipaPath),\n        `OTHER_CODE_SIGN_FLAGS=\"--keychain ${keychainPath}\"`,\n      ],\n      {\n        env: { ...process.env, CI: 1 },\n      }\n    );\n  } else {\n    await runFastlane(credentials, [\n      'gym',\n      '-n',\n      path.basename(ipaPath),\n      '--workspace',\n      workspace,\n      '--scheme',\n      'ExpoKitApp',\n      '--archive_path',\n      archivePath,\n      '--skip_build_archive',\n      'true',\n      '-i',\n      codeSignIdentity,\n      '--export_options',\n      exportOptionsPlistPath,\n      '--export_method',\n      exportMethod,\n      '--export_xcargs',\n      `OTHER_CODE_SIGN_FLAGS=\"--keychain ${keychainPath}\"`,\n      '-o',\n      path.dirname(ipaPath),\n      '--verbose',\n    ]);\n  }\n}\n\nexport const resolveExportMethod = plistData => {\n  if (plistData.ProvisionedDevices) {\n    return 'ad-hoc';\n  } else if (plistData.ProvisionsAllDevices === true) {\n    return 'enterprise';\n  } else {\n    return 'app-store';\n  }\n};\n\nconst entitlementTransferRules = [\n  'com.apple.developer.associated-domains',\n  'com.apple.developer.healthkit',\n  'com.apple.developer.homekit',\n  'com.apple.developer.icloud-container-identifiers',\n  'com.apple.developer.icloud-services',\n  'com.apple.developer.in-app-payments',\n  'com.apple.developer.networking.vpn.api',\n  'com.apple.developer.ubiquity-container-identifiers',\n  'com.apple.developer.ubiquity-kvstore-identifier',\n  'com.apple.external-accessory.wireless-configuration',\n  'com.apple.security.application-groups',\n  'inter-app-audio',\n  'keychain-access-groups',\n];\n\nconst blacklistedEntitlementKeys = [\n  'com.apple.developer.icloud-container-development-container-identifiers',\n  'com.apple.developer.icloud-container-environment',\n  'com.apple.developer.icloud-container-identifiers',\n  'com.apple.developer.icloud-services',\n  'com.apple.developer.restricted-resource-mode',\n  'com.apple.developer.ubiquity-container-identifiers',\n  'com.apple.developer.ubiquity-kvstore-identifier',\n  'inter-app-audio',\n  'com.apple.developer.homekit',\n  'com.apple.developer.healthkit',\n  'com.apple.developer.in-app-payments',\n  'com.apple.developer.maps',\n  'com.apple.external-accessory.wireless-configuration',\n];\n\nexport async function createEntitlementsFile({\n  generatedEntitlementsPath,\n  plistData,\n  archivePath,\n}) {\n  const decodedProvisioningProfileEntitlements = plistData.Entitlements;\n\n  const entitlementsPattern = path.join(\n    archivePath,\n    'Products/Applications/ExpoKitApp.app/*.entitlements'\n  );\n  const entitlementsPaths = await glob(entitlementsPattern);\n  if (entitlementsPaths.length === 0) {\n    throw new Error(\"Didn't find any generated entitlements file in archive.\");\n  } else if (entitlementsPaths.length !== 1) {\n    throw new Error('Found more than one entitlements file.');\n  }\n  const archiveEntitlementsPath = entitlementsPaths[0];\n  const archiveEntitlementsRaw = await fs.readFile(archiveEntitlementsPath);\n  const archiveEntitlementsData = _.attempt(plist.parse, String(archiveEntitlementsRaw));\n  if (_.isError(archiveEntitlementsData)) {\n    throw new Error(`Error when parsing plist: ${archiveEntitlementsData.message}`);\n  }\n\n  const entitlements = { ...decodedProvisioningProfileEntitlements };\n  entitlementTransferRules.forEach(rule => {\n    if (rule in archiveEntitlementsData) {\n      entitlements[rule] = archiveEntitlementsData[rule];\n    }\n  });\n  const generatedEntitlements = _.pickBy(\n    entitlements,\n    (val, key) => !_.includes(blacklistedEntitlementKeys, key)\n  );\n  const generatedEntitlementsPlistData = _.attempt(plist.build, generatedEntitlements);\n  await fs.writeFile(generatedEntitlementsPath, generatedEntitlementsPlistData, {\n    mode: 0o755,\n  });\n  const { output } = await spawnAsyncThrowError(\n    '/usr/libexec/PlistBuddy',\n    ['-x', '-c', 'Print', generatedEntitlementsPath],\n    {\n      stdio: 'pipe',\n    }\n  );\n  const plistDataReformatted = output.join('');\n  await fs.writeFile(generatedEntitlementsPath, plistDataReformatted, {\n    mode: 0o755,\n  });\n}\n\nexport async function resignIPA(\n  {\n    codeSignIdentity,\n    entitlementsPath,\n    provisioningProfilePath,\n    sourceIpaPath,\n    destIpaPath,\n    keychainPath,\n  },\n  credentials\n) {\n  await spawnAsyncThrowError('cp', ['-rf', sourceIpaPath, destIpaPath]);\n  await runFastlane(credentials, [\n    'sigh',\n    'resign',\n    '--verbose',\n    '--entitlements',\n    entitlementsPath,\n    '--signing_identity',\n    codeSignIdentity,\n    '--keychain_path',\n    keychainPath,\n    '--provisioning_profile',\n    provisioningProfilePath,\n    destIpaPath,\n  ]);\n}\n\nasync function runFastlane({ teamID, password }, fastlaneArgs) {\n  const fastlaneEnvVars = {\n    FASTLANE_SKIP_UPDATE_CHECK: 1,\n    FASTLANE_DISABLE_COLORS: 1,\n    FASTLANE_TEAM_ID: teamID,\n    FASTLANE_PASSWORD: password,\n    CI: 1,\n  };\n\n  await spawnAsyncThrowError('fastlane', fastlaneArgs, {\n    env: { ...process.env, ...fastlaneEnvVars },\n  });\n}\n"],"sourceRoot":"/xdl@50.0.0/src"}